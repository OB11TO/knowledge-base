---
title: QTP-Последовательный доступ
tags:
  - PostgreSql
related_topics: 
created: 2024-11-22 15:24
modified: 2024-11-22T17:02:53+03:00
questions: 
notes: 
links: 
---


------
[[QTP-Параллельные планы]]


-----


![[Pasted image 20241122152654.png]]
![[Pasted image 20241122152737.png]]
- <mark class="hltr-yellow">ЕЩЕ ПОМОГАЕТ ЧИТАТЬ ОС, ОНА ТЕ СТРАНИЦЫ, КОТОРЫЕ ЧАСТО ЧИТАЮТСЯ КЕШИРУЕТ У СЕБЯ В КЕШ</mark>
![[Pasted image 20241122152849.png]]
![[Pasted image 20241122153005.png]]




![[Pasted image 20241122170140.png]]
![[Pasted image 20241122170243.png]]


В PostgreSQL, информация о планах выполнения запросов (`EXPLAIN`) предоставляет важные данные для анализа, включая **cost**, **rows** и **width**. Давайте разберемся подробнее, как рассчитываются эти значения и почему у `cost` два числа.

---

### 1. **Cost (стоимость)**

`cost` — это оценка стоимости выполнения операции в плане запроса. Она измеряется в **абстрактных единицах стоимости** (не в секундах или ресурсах). PostgreSQL использует эти единицы, чтобы сравнивать различные планы выполнения и выбирать наиболее оптимальный.

#### Два значения в cost:

1. **Первая часть** (например, `0.00`):
    
    - **Стартовая стоимость** операции — оценка ресурсов, необходимых для инициализации операции.
    - Например, для Seq Scan это почти всегда близко к нулю, потому что последовательное сканирование не требует сложной подготовки.
2. **Вторая часть** (например, `4772.67`):
    
    - **Полная стоимость** выполнения операции до ее завершения.
    - Она учитывает стоимость чтения всех строк, обработки фильтров, соединений и других операций.

#### Как рассчитывается cost?

- **Seq Scan:**
    - Основной фактор — стоимость чтения страниц таблицы с диска. PostgreSQL учитывает:
        - Размер таблицы (количество страниц).
        - Параметры конфигурации, такие как `seq_page_cost` (по умолчанию `1.0`, можно настроить).
        - Если данные находятся в кэше (shared_buffers), стоимость снижается.
- **Индексы и соединения:**
    - Для Index Scan или Join учитываются дополнительные параметры, например, стоимость чтения индекса или соединения строк.




