---
title: Решение Data Race с использованием атомарных операций Atomic
tags:
  - Multithreading
related_topics: 
created: 2024-09-11 12:34
modified: 2024-09-11T12:34:55+03:00
questions: 
notes: 
links: 
---
### Решение Data Race с использованием атомарных операций (Atomic):

```Java
import java.util.concurrent.atomic.AtomicInteger;

public class AtomicCounter {
    private AtomicInteger count = new AtomicInteger(0);

    public void increment() {
        count.incrementAndGet(); // Атомарная операция инкремента
    }

    public int getCount() {
        return count.get();
    }
}
```

Здесь `AtomicCounter` использует `AtomicInteger`, который предоставляет атомарные операции для инкремента и получения значения. Это обеспечивает безопасность при работе с счетчиком в многопоточной среде и предотвращает гонку за данными.

- `AtomicBoolean`: Булевое значение, которое может быть атомарно обновлено.
- `AtomicInteger`: Целочисленное значение, которое может быть атомарно обновлено.
- `AtomicIntegerArray`: Массив целых чисел, в котором элементы могут быть атомарно обновлены.
- `AtomicIntegerFieldUpdater<T>`: Утилита, использующая рефлексию и позволяющая атомарные обновления для полей с типом `volatile int` в указанных классах.
- `AtomicLong`: Длинное целочисленное значение, которое может быть атомарно обновлено.
- `AtomicLongArray`: Массив длинных целых чисел, в котором элементы могут быть атомарно обновлены.
- `AtomicLongFieldUpdater<T>`: Утилита, использующая рефлексию и позволяющая атомарные обновления для полей с типом `volatile long` в указанных классах.
- `AtomicMarkableReference<V>`: Атомарный объект, который содержит ссылку на объект и бит метки, которые могут быть атомарно обновлены.
- `AtomicReference<V>`: Ссылка на объект, которая может быть атомарно обновлена.
- `AtomicReferenceArray<E>`: Массив ссылок на объекты, в котором элементы могут быть атомарно обновлены.
- `AtomicReferenceFieldUpdater<T,V>`: Утилита, использующая рефлексию и позволяющая атомарные обновления для полей с типом `volatile reference` в указанных классах.
- `AtomicStampedReference<V>`: Атомарный объект, который содержит ссылку на объект и целое число "метку", которые могут быть атомарно обновлены.
- `DoubleAccumulator`: Один или несколько переменных, которые вместе поддерживают текущее значение типа `double`, обновляемое с использованием предоставленной функции.
- `DoubleAdder`: Один или несколько переменных, которые вместе поддерживают сумму типа `double`, начальное значение которой равно нулю.
- `LongAccumulator`: Один или несколько переменных, которые вместе поддерживают текущее значение типа `long`, обновляемое с использованием предоставленной функции.
- `LongAdder`: Один или несколько переменных, которые вместе поддерживают сумму типа `long`, начальное значение которой равно нулю.