---
title: Java Profiling поиск узких мест в производительности Java-программ
tags:
  - JVM
related_topics: 
created: 2025-01-31 17:44
modified: 2025-01-31T18:52:07+03:00
questions: 
notes: 
links: 
---

![[Pasted image 20250131174416.png]]

![[Pasted image 20250131174512.png]]

![[Pasted image 20250131180930.png]]
- <mark class="hltr-red">Для Profile - профилирования - обязательная настройка !!!!!!!!!</mark>



----

![[Pasted image 20250131182428.png]]
- <mark class="hltr-red">При семплировании данного метода, smallMethod() не будет засемплирован, так как он очень маленький и застукать метод сложно! Поэтому будет показан больший метод, который вызывает small()</mark>
- <mark class="hltr-yellow">При этом, если бы small() был бы пустой, то есть только цикл, то JIT не стал бы его запускать!</mark>   
- <mark class="hltr-red">Но при профилировании через Profile мы метод увидим, так как байт- код измениться и инструментироваться будет метод.</mark> <mark class="hltr-purple">Поэтому сэмплирование хорошо для больших методов, а интрументирование (profile) для маленьких
</mark>
### Преимущества семплирующего профилировщика

- **Низкие накладные расходы**: Поскольку данные собираются выборочно, семплирующий профилировщик оказывает минимальное влияние на производительность программы. Это позволяет использовать его в production-средах.
    
- **Масштабируемость**: Подходит для анализа больших и сложных программ, включая многопоточные приложения.
    
- **Простота использования**: Не требует изменений в исходном коде программы (в отличие от инструментов, которые требуют добавления точек инструментации).
    

### Недостатки семплирующего профилировщика

- **Неточность**: Поскольку данные собираются выборочно, семплирующий профилировщик может пропускать короткие, но важные события. Например, если функция выполняется очень быстро, она может не попасть в выборку.
    
- **Ограниченная детализация**: Не предоставляет точной информации о времени выполнения каждой функции, только статистическую оценку.
    
- **Зависимость от частоты семплирования**: Если частота семплирования слишком низкая, некоторые важные события могут быть пропущены. Если слишком высокая — увеличиваются накладные расходы

----
 

 