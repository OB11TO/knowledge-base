---
title: –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è job4j
tags:
  - JavaSE
related_topics: 
created: 2025-01-30 15:26
modified: 2025-04-04T16:46:19+03:00
questions: 
notes: 
links: 
---

-----
[[–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Java]]
[[–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤—â–∏–∫ Visual VM 504934 job4j]]

[[–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ GC 1590 job4j]]
[[–ù–∞–π—Ç–∏ —É—Ç–µ—á–∫—É –ø–∞–º—è—Ç–∏ 504882 job4j]]

[[Java Profiling –ø–æ–∏—Å–∫ —É–∑–∫–∏—Ö –º–µ—Å—Ç –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Java-–ø—Ä–æ–≥—Ä–∞–º–º]]
[[–ê–Ω–¥—Ä–µ–π –ü–∞–Ω—å–≥–∏–Ω ‚Äî –ò—Å–∫—É—Å—Å—Ç–≤–æ Java –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è]]
[[–°–µ—Ä–≥–µ–π –ú–µ–ª—å–Ω–∏–∫–æ–≤ –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ —Å–≤–µ—Ä—Ö—Å–≤–µ—Ç–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é]]

[[–ê–ª–µ–∫—Å–µ–π –†–∞–≥–æ–∑–∏–Ω ‚Äî –í–æ—Ä–∫—à–æ–ø –≠–∫—Å–ø—Ä–µ—Å—Å-–∫—É—Ä—Å –ø–æ –æ–ø–µ–Ω—Å–æ—Ä—Å-–ø—Ä–æ—Ñ–∞–π–ª–µ—Ä–∞–º]]


-----

**–û—Å–Ω–æ–≤–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è**:

- 1 –±–∏—Ç (bit) ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (0 –∏–ª–∏ 1).
- 1 –±–∞–π—Ç (byte, B) = **8 –±–∏—Ç**.
- 1 –∫–∏–ª–æ–±–∞–π—Ç (KB) = **1024 –±–∞–π—Ç–∞**.
- 1 –º–µ–≥–∞–±–∞–π—Ç (MB) = **1024 KB** = 1_048_576 –±–∞–π—Ç.
- 1 –≥–∏–≥–∞–±–∞–π—Ç (GB) = **1024 MB** = 1_073_741_824 –±–∞–π—Ç.


----
- `boolean` ‚Üí 1 –±–∞–π—Ç (–Ω–æ –≤ –º–∞—Å—Å–∏–≤–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)
- `byte` ‚Üí 1 –±–∞–π—Ç
- `short` ‚Üí 2 –±–∞–π—Ç–∞
- `char` ‚Üí 2 –±–∞–π—Ç–∞ (UTF-16 –∫–æ–¥–∏—Ä–æ–≤–∫–∞)
- `int` ‚Üí 4 –±–∞–π—Ç–∞
- `float` ‚Üí 4 –±–∞–π—Ç–∞
- `long` ‚Üí 8 –±–∞–π—Ç
- `double` ‚Üí 8 –±–∞–π—Ç
 


-----
**–†–∞–∑–º–µ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Java**:

–í Java –æ–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:

- **–ó–∞–≥–æ–ª–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–∞** (–æ–±—ã—á–Ω–æ **8‚Äì12 –±–∞–π—Ç**, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç JVM).
- **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏** (–¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ 8 –±–∞–π—Ç–æ–≤).
- **–ü–æ–ª—è –∫–ª–∞—Å—Å–∞** (–≤–∫–ª—é—á–∞—è –ø—Ä–∏–º–∏—Ç–∏–≤—ã –∏ —Å—Å—ã–ª–∫–∏).
- **–°—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã** (–æ–±—ã—á–Ω–æ 4 –±–∞–π—Ç–∞ –≤ 32-–±–∏—Ç–Ω–æ–π JVM –∏ 8 –±–∞–π—Ç –≤ 64-–±–∏—Ç–Ω–æ–π JVM —Å –æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã–º CompressedOops).

-----

<mark class="hltr-red">_–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ_</mark>¬†- —ç—Ç–æ<mark class="hltr-yellow"> —Å–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</mark>
–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, "–ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è" –∫ –Ω–µ–º—É, –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å–º–æ—Ç—Ä–∏–º –∫–∞–∫ –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–µ–ª–∞–µ–º –≤—ã–≤–æ–¥—ã. –î–∞–ª–µ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞–µ–º –º–µ—Ä—ã.
–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞–º—è—Ç—å.
–î–∞–ª–µ–µ –±—É–¥—É—Ç –∏–∑–ª–æ–∂–µ–Ω—ã —É—Ç–∏–ª–∏—Ç—ã –∏ –ø—Ä–æ–≥—Ä–∞ –º–º–∞ (jconsole), –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥—è—Ç —Å–æ—Å—Ç–∞–≤ –≤ JDK.

![[Pasted image 20250130152756.png]]

# –∏–ª–∏ —Ç–∞–∫ 
![[Pasted image 20250130153126.png]]


----
![[Pasted image 20250130153555.png]]

------
![[Pasted image 20250130153618.png]]

-----

![[Pasted image 20250130153635.png]]


------
![[Pasted image 20250130171130.png]]
### üîπ –ö–∞–∫ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Thread Dump?

#### 1Ô∏è‚É£ –ù–∞–π—Ç–∏ **–∑–∞–≤–∏—Å—à–∏–µ –ø–æ—Ç–æ–∫–∏ (Blocked)**

- –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `BLOCKED` –Ω–∞ –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ –æ–±—ä–µ–∫—Ç–µ (`waiting to lock <0x123abc>`), –∑–Ω–∞—á–∏—Ç, –≤–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å **—É–∑–∫–æ–µ –º–µ—Å—Ç–æ –∏–ª–∏ –¥–µ–¥–ª–æ–∫**.

#### 2Ô∏è‚É£ –ù–∞–π—Ç–∏ **–¥–æ–ª–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**

- –ï—Å–ª–∏ –ø–æ—Ç–æ–∫ –¥–æ–ª–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `RUNNABLE`, –Ω–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–µ–∑–Ω–æ–π —Ä–∞–±–æ—Ç—ã ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ, –µ—Å—Ç—å **–≥–æ—Ä—è—á–∞—è —Ç–æ—á–∫–∞** –≤ –∫–æ–¥–µ.

#### 3Ô∏è‚É£ –í—ã—è–≤–∏—Ç—å **–¥–µ–¥–ª–æ–∫–∏**

- –ï—Å–ª–∏ –≤ `jstack -l` –∏–ª–∏ `jcmd Thread.print` –µ—Å—Ç—å –±–ª–æ–∫–∏ `Found one Java-level deadlock`, –∑–Ω–∞—á–∏—Ç, –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –∂–¥—É—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Ä–µ—Å—É—Ä—Å–∞.

#### 4Ô∏è‚É£ –ù–∞–π—Ç–∏ **"–∂–¥—É–Ω–æ–≤" (WAITING, TIMED_WAITING)**

- –ü–æ—Ç–æ–∫–∏, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ `WAITING` (`on object monitor`), –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.
- `TIMED_WAITING (on condition)` ‚Äî –æ–±—ã—á–Ω–æ –±–µ–∑–≤—Ä–µ–¥–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Thread.sleep()` –∏–ª–∏ `await()` –∏–∑ `CountDownLatch`).


![[Pasted image 20250130171246.png]]

## –ü—Ä–∏–º–µ—Ä

![[Pasted image 20250130171521.png]]
![[Pasted image 20250130171647.png]]

![[Pasted image 20250130171659.png]]
![[Pasted image 20250130171733.png]]


----

![[Pasted image 20250131161141.png]]
![[Pasted image 20250131161153.png]]


----

### **Heap Dump (–î–∞–º–ø –∫—É—á–∏)**

**Heap Dump**¬†‚Äî —ç—Ç–æ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–Ω–∏–º–æ–∫ (snapshot) –ø–∞–º—è—Ç–∏ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–±–æ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–∞—Ö, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤ –∫—É—á–µ (heap), –≤–∫–ª—é—á–∞—è –∏—Ö —Ç–∏–ø—ã, —Ä–∞–∑–º–µ—Ä—ã, —Å—Å—ã–ª–∫–∏ –∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏.

#### **–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ Heap Dump?**

- –í—Å–µ –æ–±—ä–µ–∫—Ç—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –∫—É—á–µ.
    
- –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.
    
- –°—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ (–∫—Ç–æ –Ω–∞ –∫–æ–≥–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è).
    
- –¶–µ–ø–æ—á–∫–∏ —Å—Å—ã–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏.
    
- –ö–ª–∞—Å—Å—ã, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –æ–±—ä–µ–∫—Ç—ã.
    

#### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Heap Dump?**

- –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (memory leaks). –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ, —á—Ç–æ –ø–∞–º—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—Ç–µ—Ç, Heap Dump –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞ (Garbage Collector, GC).
    
- –î–ª—è –∏–∑—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–º—è—Ç–∏: –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –º–µ—Å—Ç–∞, –∫–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã —Å–æ–∑–¥–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤.
    
- –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–µ–π –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏.

#### **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Heap Dump**

- –î–∞–º–ø —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫—É—á–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è.
    
- –†–∞–∑–º–µ—Ä –¥–∞–º–ø–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∫—É—á–∏).
    
- –ê–Ω–∞–ª–∏–∑ –¥–∞–º–ø–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–º, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
-----
**Memory**¬†–≤ —ç—Ç–∏—Ö —Ä–µ–∂–∏–º–∞—Ö. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º, —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è¬†**Heap Dump**¬†–æ—Ç¬†**Memory**¬†–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ¬†**Sampling**¬†–∏¬†**Profiling**.

---

### **Sampling (–°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)**

–í —Ä–µ–∂–∏–º–µ¬†**Sampling**¬†VisualVM –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (—Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º) —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–º—è—Ç–∏. –≠—Ç–æ –Ω–µ–∏–Ω–≤–∞–∑–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –∞–Ω–∞–ª–∏–∑–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ –∏ –∏–º–µ–µ—Ç –Ω–∏–∑–∫–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.

#### **Memory –≤ Sampling**

- **–ß—Ç–æ —ç—Ç–æ?**
    
    - –í —Ä–µ–∂–∏–º–µ¬†**Sampling**¬†–æ–ø—Ü–∏—è¬†**Memory**¬†—Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ (memory allocations) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤.
        
    - –û–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã —Å–æ–∑–¥–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –æ–Ω–∏ –∑–∞–Ω–∏–º–∞—é—Ç.
        
- **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
    
    - VisualVM –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ "–∑–∞–≥–ª—è–¥—ã–≤–∞–µ—Ç" –≤ –ø–∞–º—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–º, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç.
        
    - –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã.
        
- **–ß—Ç–æ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å?**
    
    - –ö–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã —Å–æ–∑–¥–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤.
        
    - –ö–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ø–∞–º—è—Ç–∏.
        
    - –î–∏–Ω–∞–º–∏–∫—É –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ (memory allocations) –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
        
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
    
    - –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –±–µ–∑ —Å–µ—Ä—å–µ–∑–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
        
    - –î–ª—è –ø–æ–∏—Å–∫–∞ "–≥–æ—Ä—è—á–∏—Ö" –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏.
        

---

### **Profiling (–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)**

–í —Ä–µ–∂–∏–º–µ¬†**Profiling**¬†VisualVM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏–π –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫–æ–¥–∞ (–±–∞–π—Ç–∫–æ–¥–∞), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–∞–º—è—Ç–∏.

#### **Memory –≤ Profiling**

- **–ß—Ç–æ —ç—Ç–æ?**
    
    - –í —Ä–µ–∂–∏–º–µ¬†**Profiling**¬†–æ–ø—Ü–∏—è¬†**Memory**¬†–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–º —Ü–∏–∫–ª–µ –æ–±—ä–µ–∫—Ç–æ–≤.
        
    - –û–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã, —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –æ–Ω–∏ –≤—ã–¥–µ–ª—è—é—Ç –∏ –∫–∞–∫ –¥–æ–ª–≥–æ –æ–±—ä–µ–∫—Ç—ã –∂–∏–≤—É—Ç.
        
- **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
    
    - VisualVM –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –±–∞–π—Ç–∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤.
        
    - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã –∑–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.
        
- **–ß—Ç–æ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å?**
    
    - –ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤.
        
    - –°–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ.
        
    - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤ (–∫–∞–∫ –¥–æ–ª–≥–æ –æ–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –¥–æ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞).
        
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
    
    - –î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ –ø–æ–∏—Å–∫–∞ —É–∑–∫–∏—Ö –º–µ—Å—Ç (bottlenecks).
        
    - –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏.
        

---

### **Heap Dump**

**Heap Dump**¬†‚Äî —ç—Ç–æ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–Ω–∏–º–æ–∫ –≤—Å–µ–π –∫—É—á–∏ (heap) –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–±–æ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –≤ –ø–∞–º—è—Ç–∏, –≤–∫–ª—é—á–∞—è –∏—Ö —Ä–∞–∑–º–µ—Ä—ã, —Ç–∏–ø—ã –∏ —Å—Å—ã–ª–∫–∏.

#### **–û—Ç–ª–∏—á–∏—è Heap Dump –æ—Ç Memory –≤ Sampling/Profiling**

- **Heap Dump**:
    
    - –°—Ç–∞—Ç–∏—á–µ–Ω: —ç—Ç–æ —Å–Ω–∏–º–æ–∫ –ø–∞–º—è—Ç–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç.
        
    - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –≤ –∫—É—á–µ, –≤–∫–ª—é—á–∞—è –∏—Ö —Ä–∞–∑–º–µ—Ä—ã –∏ —Å—Å—ã–ª–∫–∏.
        
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –∏ –∏–∑—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤.
        
- **Memory –≤ Sampling**:
    
    - –î–∏–Ω–∞–º–∏—á–µ–Ω: —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
        
    - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–ª–∞—Å—Å–∞–º –∏ –æ–±—ä–µ–∫—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.
        
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏.
        
- **Memory –≤ Profiling**:
    
    - –î–∏–Ω–∞–º–∏—á–µ–Ω –∏ –¥–µ—Ç–∞–ª–µ–Ω: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–µ—Ç–æ–¥–æ–≤.
        
    - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã –∏ —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç.
        
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
        

---

### **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

2. **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞–º—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞—Å—Ç–µ—Ç, –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –º–µ—Å—Ç–∞.
    
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†**Heap Dump**, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–Ω–∏–º–æ–∫ –ø–∞–º—è—Ç–∏ –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã.
        
3. **–ü—Ä–æ–±–ª–µ–º–∞**: –í—ã —Ö–æ—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã —Å–æ–∑–¥–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤.
    
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†**Memory**¬†–≤ —Ä–µ–∂–∏–º–µ¬†**Sampling**, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–ª–∞—Å—Å–∞–º.
        
4. **–ü—Ä–æ–±–ª–µ–º–∞**: –í—ã —Ö–æ—Ç–∏—Ç–µ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤—ã–¥–µ–ª—è—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ø–∞–º—è—Ç–∏.
    
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†**Memory**¬†–≤ —Ä–µ–∂–∏–º–µ¬†**Profiling**, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–µ—Ç–æ–¥–æ–≤.
        

---

### **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

- **Heap Dump**¬†‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π —Å–Ω–∏–º–æ–∫ –∫—É—á–∏.
    
- **Memory –≤ Sampling**¬†‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –Ω–∞–∫–ª–∞–¥–Ω—ã–º–∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏.
    
- **Memory –≤ Profiling**¬†‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.
    

–ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ–ª–µ–∑–µ–Ω –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –∏ –∏—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.