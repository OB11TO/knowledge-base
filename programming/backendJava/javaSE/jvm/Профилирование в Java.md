---
title: –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Java
tags:
  - JavaSE
related_topics: 
created: 2025-01-31 11:42
modified: 2025-01-31T11:51:43+03:00
questions: 
notes: 
links: 
---

---
[[–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ java]]


-----

## üî• –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Java: —á—Ç–æ —ç—Ç–æ, –∑–∞—á–µ–º –∏ –∫–∞–∫?

### üìå –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ?

**–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (profiling)** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å —Ü–µ–ª—å—é –≤—ã—è–≤–ª–µ–Ω–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç (bottlenecks), —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏, –ø—Ä–æ–±–ª–µ–º —Å –ø–æ—Ç–æ–∫–∞–º–∏ –∏ –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å:

- **–ì–¥–µ —Ç–æ—Ä–º–æ–∑–∏—Ç –∫–æ–¥?** (–ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏–ª–∏ —É—á–∞—Å—Ç–∫–∏ –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏?)
- **–°–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç –æ–±—ä–µ–∫—Ç—ã?** (–ï—Å—Ç—å –ª–∏ —É—Ç–µ—á–∫–∏?)
- **–ö–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ç–æ–∫–∏?** (–ï—Å—Ç—å –ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, deadlock‚Äô–∏?)
- **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞?** (–û–ø—Ç–∏–º–∞–ª—å–Ω–æ –ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏?)

---

## üéØ –ó–∞—á–µ–º Java-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ?

–ö–∞–∫ **Middle+ Java-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**, —Ç—ã –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:

1. **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ –º–µ—Å—Ç–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö.
2. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** ‚Äî –ø–æ–Ω–∏–º–∞—Ç—å, –ø–æ—á–µ–º—É `OutOfMemoryError`, –∏ –∫–∞–∫ —ç—Ç–æ —Ñ–∏–∫—Å–∏—Ç—å.
3. **–†–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ —Ä–∞–±–æ—Ç–µ –ø–æ—Ç–æ–∫–æ–≤** ‚Äî –∏—Å–∫–∞—Ç—å `deadlock`, `race conditions`, –ø–æ–Ω–∏–º–∞—Ç—å, –≥–¥–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –ø–æ—Ç–æ–∫–∏.
4. **–°–ª–µ–¥–∏—Ç—å –∑–∞ —Ä–∞–±–æ—Ç–æ–π GC (Garbage Collector)** ‚Äî –∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –∂–∏–≤—É—Ç –¥–æ–ª—å—à–µ, –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è GC –∏ —Ç–æ—Ä–º–æ–∑–∏—Ç –ª–∏ –æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

---

## üîç –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∏–¥—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### 1Ô∏è‚É£ **CPU-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** (–∞–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏)

–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å: **"–ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä?"**

- **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?** –ò–∑–º–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤.
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?** –ö–æ–≥–¥–∞ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ, –∞ –ø—Ä–∏—á–∏–Ω–∞ –Ω–µ —è—Å–Ω–∞.
#### üîπ –ö–∞–∫ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å?

‚úÖ **Java Flight Recorder (JFR)** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è CPU-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è.
```java
java -XX:StartFlightRecording=filename=profile.jfr,duration=60s MyApplication

```
–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 60 —Å–µ–∫—É–Ω–¥.

‚úÖ **JVisualVM** ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å GUI, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ JDK.

‚úÖ **Async Profiler** ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º overhead.

---
### 2Ô∏è‚É£ **Memory-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** (–∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏)

–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:

- **"–ö–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ø–∞–º—è—Ç–∏?"**
- **"–ï—Å—Ç—å –ª–∏ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏?"**
- **"–ü–æ—á–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–µ—Ç —Å `OutOfMemoryError`?"**

#### üîπ –ö–∞–∫ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å?

‚úÖ **JVisualVM**

- –ó–∞–ø—É—Å–∫–∞–µ–º: `jvisualvm`
- –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤—ã–±–∏—Ä–∞–µ–º "Heap Dump"
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–∫—Ç—ã.

---
### 3Ô∏è‚É£ **Thread-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** (–ø–æ—Ç–æ–∫–∏ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)

–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:

- **"–ö–∞–∫–∏–µ –ø–æ—Ç–æ–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã?"**
- **"–ï—Å—Ç—å –ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (`deadlock`)?"**
- **"–ì–¥–µ –∫–æ–¥ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫–∏?"**

#### üîπ –ö–∞–∫ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å?

‚úÖ **`jstack`** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤:
```java
jstack -l <PID>
```
‚úÖ **JVisualVM** ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Threads".
‚úÖ **JFR / Async Profiler** ‚Äî —Å–æ–±–∏—Ä–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–æ—Ç–æ–∫–∞—Ö –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö.

-----
### 4Ô∏è‚É£ **GC-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** (Garbage Collector)

–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:

- **"–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —É—Ö–æ–¥–∏—Ç –Ω–∞ —Å–±–æ—Ä–∫—É –º—É—Å–æ—Ä–∞?"**
- **"–ö–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã —á–∞—â–µ –≤—Å–µ–≥–æ –∂–∏–≤—É—Ç –¥–æ–ª—å—à–µ?"**
- **"–°–∏–ª—å–Ω–æ –ª–∏ —Ç–æ—Ä–º–æ–∑–∏—Ç GC?"**
‚úÖ **JVisualVM** ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Monitor" ‚Üí "GC Activity".
‚úÖ **GC Logs** ‚Äî –≤–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ GC:
```java
java -Xlog:gc* MyApplication

```

----
## üí° –ö–∞–∫ –≥–ª—É–±–æ–∫–æ –Ω—É–∂–Ω–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ **Middle+**?

### **–ß—Ç–æ –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å?**

‚úÖ –£–º–µ—Ç—å **–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, –∫–æ–≥–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ**.  
‚úÖ –†–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ **CPU –∏ memory –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–∏** (JVisualVM, JFR).  
‚úÖ –ü–æ–Ω–∏–º–∞—Ç—å **–æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã GC** (–≤–∏–¥—ã GC, –∫–æ–≥–¥–∞ –æ–Ω —Ç–æ—Ä–º–æ–∑–∏—Ç).  
‚úÖ –£–º–µ—Ç—å —á–∏—Ç–∞—Ç—å **heap dump** (MAT) –∏ **stack trace** (`jstack`).  
‚úÖ –ü–æ–Ω–∏–º–∞—Ç—å **—Ä–∞–±–æ—Ç—É –ø–æ—Ç–æ–∫–æ–≤ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** (`jstack`, JFR).

### **–ß—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ Middle?**

‚ùå –ì–ª—É–±–æ–∫–æ–µ –∑–Ω–∞–Ω–∏–µ JVM-–∏–Ω—Ç–µ—Ä–Ω–æ–≤ –∏ –¥–µ—Ç–∞–ª–µ–π JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏.  
‚ùå –†–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ low-level –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö.  
‚ùå –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–∏—Å–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å?

1Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏ **JVisualVM**, –ø–æ–¥–∫–ª—é—á–∏ –∫ —Å–≤–æ–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.  
2Ô∏è‚É£ –ü—Ä–æ–≤–µ–¥–∏ **CPU –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ –Ω–∞–π–¥–∏ —Å–∞–º—ã–µ –∑–∞—Ç—Ä–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã.  
3Ô∏è‚É£ –°–¥–µ–ª–∞–π **Heap Dump** –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø–∞–º—è—Ç—å.  
4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å **GC-–ª–æ–≥–∏** –∏ —É–±–µ–¥–∏—Å—å, —á—Ç–æ GC –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç.  
5Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π **JFR** –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.