---
title: IdentityHashMap
tags:
  - Collection
  - Map
related_topics: 
created: 2024-09-09 18:16
modified: 2024-09-09T18:17:37+03:00
questions: 
notes: 
links: 
---
### class IdentityHashMap<K,V>

All Implemented Interfaces:[Serializable](https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html), [Cloneable](https://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html), [Map](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html)<K,V>

IdentityHashMap является реализацией интерфейса Map в Java, где сравнение ключей происходит на основе их идентичности (==), а не на основе метода `equals()`. Вот некоторые плюсы и минусы использования IdentityHashMap:

Плюсы:

1. Уникальность ключей: IdentityHashMap позволяет использовать ключи, которые имеют одинаковое содержимое, но разные идентичности. Это полезно в ситуациях, когда требуется сравнивать ключи на основе ссылок, а не их содержимого. Например, это может быть полезно при работе с экземплярами классов, где `equals()` переопределен для сравнения содержимого, но требуется уникальность по ссылке.
2. Производительность: Поскольку сравнение ключей осуществляется на основе их идентичности, а не метода `equals()`, IdentityHashMap может работать быстрее, особенно если в коллекции содержится большое количество ключей с одинаковым содержимым, но разной идентичностью.
3. Отсутствие необходимости в переопределении `equals()`: В отличие от других реализаций Map, где для сравнения ключей требуется переопределение метода `equals()`, в IdentityHashMap можно использовать любые объекты в качестве ключей без необходимости переопределения `equals()`.

Минусы:

1. Ограниченная гибкость: Использование идентичности для сравнения ключей может быть ограничивающим, особенно если требуется использовать разные объекты с одинаковым содержимым в качестве ключей. В таких случаях IdentityHashMap не подойдет, и лучше использовать другие реализации Map.
2. Ограниченная поддержка для `null` в качестве ключей: В IdentityHashMap нельзя использовать `null` в качестве ключа, так как для сравнения ключей используется оператор `==`. Если важно использовать `null` в качестве ключа, следует выбрать другую реализацию Map.
3. Неупорядоченность элементов: IdentityHashMap не гарантирует порядок элементов в своей коллекции. Это означает, что порядок обхода элементов может быть непредсказуемым, что может быть проблематичным, если важен порядок элементов.