---
title: EnumSet
tags:
  - Collection
  - Set
related_topics: 
created: 2024-09-09 17:32
modified: 2024-09-10T12:43:18+03:00
questions: 
notes: 
links: 
---
### class <mark class="hltr-orange">EnumSet</mark><E extends Enum\<E>>

это специализированная реализация интерфейса `Set`, предназначенная для работы с перечислениями (`enum`). Вот список плюсов и минусов использования `EnumSet`:

<mark class="hltr-orange">Плюсы</mark>:

1. Компактность: `EnumSet` использует внутреннее представление битовой маски, которая эффективно использует память для хранения элементов перечисления. Это делает `EnumSet` очень компактным и эффективным с точки зрения использования памяти.
2. Высокая производительность: Благодаря использованию битовой маски, операции добавления, удаления, проверки принадлежности и пересечения элементов выполняются очень быстро. `EnumSet` предлагает высокую производительность для операций над множествами элементов перечисления.
3. Проверка типов на этапе компиляции: `EnumSet` работает только с элементами перечисления, что обеспечивает проверку типов на этапе компиляции. Это гарантирует, что в `EnumSet` могут храниться только элементы определенного перечисления, что устраняет возможность ошибок типов во время выполнения.
4. Удобство использования: `EnumSet` предоставляет удобные методы для работы с множествами, такие как `add()`, `remove()`, `contains()`, `isEmpty()` и другие. Он также поддерживает итерацию и предоставляет методы для создания и комбинирования `EnumSet`.

<mark class="hltr-orange">Минусы</mark>:

1. Ограничение на использование перечислений: `EnumSet` может использоваться только с элементами перечисления. Это ограничение делает его не подходящим для работы с другими типами данных или коллекциями, не связанными с перечислениями.
2. Ограниченные возможности манипулирования множествами: `EnumSet` предоставляет базовый набор операций над множествами, таких как добавление, удаление и проверка принадлежности. Однако, он не поддерживает более сложные операции над множествами, такие как объединение, разность или симметрическая разность, которые доступны в более общих реализациях `Set`.
3. Неупорядоченность элементов: `EnumSet` не гарантирует сохранение порядка элементов в множестве. Если вам необходимо сохранить порядок элементов, вам может потребоваться использовать другую реализацию `Set`, такую как `LinkedHashSet`.
4. **Нельзя хранить `null`**: `EnumSet` не позволяет добавлять `null` значения.

### Пример использования

#### 1. Создание `EnumSet`

`EnumSet` предоставляет несколько статических методов для создания наборов на основе перечислений:

- **`EnumSet.of()`** — создание набора из одного или нескольких элементов;
- **`EnumSet.allOf()`** — создание набора, содержащего все элементы перечисления;
- **`EnumSet.noneOf()`** — создание пустого набора.

```java
import java.util.EnumSet;

enum Day {
    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY
}

public class EnumSetExample {
    public static void main(String[] args) {
        // Создаем EnumSet, содержащий определенные дни недели
        EnumSet<Day> weekend = EnumSet.of(Day.SATURDAY, Day.SUNDAY);

        // Создаем EnumSet, содержащий все дни недели
        EnumSet<Day> allDays = EnumSet.allOf(Day.class);

        // Создаем пустой EnumSet
        EnumSet<Day> noDays = EnumSet.noneOf(Day.class);

        // Добавление в пустой EnumSet
        noDays.add(Day.MONDAY);
        noDays.add(Day.TUESDAY);

        // Вывод
        System.out.println("Выходные дни: " + weekend);
        System.out.println("Все дни: " + allDays);
        System.out.println("Некоторые дни: " + noDays);
    }
}

```


#### 2. Операции над `EnumSet`

`EnumSet` поддерживает все стандартные операции над множествами, такие как добавление (`add`), удаление (`remove`), проверка наличия элемента (`contains`), объединение (`addAll`) и пересечение (`retainAll`).

#### Пример операций:

```java
import java.util.EnumSet;

enum Day {
    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY
}

public class EnumSetOperations {
    public static void main(String[] args) {
        EnumSet<Day> workDays = EnumSet.range(Day.MONDAY, Day.FRIDAY);  // Множество будних дней
        EnumSet<Day> weekend = EnumSet.of(Day.SATURDAY, Day.SUNDAY);    // Множество выходных

        // Объединение множеств
        EnumSet<Day> allDays = EnumSet.copyOf(workDays);
        allDays.addAll(weekend);

        // Удаление элементов
        workDays.remove(Day.MONDAY);

        // Пересечение множеств
        EnumSet<Day> onlyWeekend = EnumSet.complementOf(workDays);

        // Вывод
        System.out.println("Будние дни: " + workDays);
        System.out.println("Выходные дни: " + weekend);
        System.out.println("Все дни: " + allDays);
        System.out.println("Только выходные: " + onlyWeekend);
    }
}

```
### Когда использовать `EnumSet`?

- Когда нужно работать с небольшими наборами, основанными на перечислениях.
- Когда важна высокая производительность операций с множествами (добавление, удаление, проверка наличия элемента).
- Если нужно экономить память при работе с наборами.