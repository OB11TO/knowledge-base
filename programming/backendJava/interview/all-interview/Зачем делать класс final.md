---
title: Зачем делать класс final
tags:
  - Interview
  - JavaSE
related_topics: 
created: 2024-09-09 16:17
modified: 2024-09-11T11:43:27+03:00
difficulty: 
questions: 
notes: 
links: 
---
Ключевое слово `final` в Java используется для того, чтобы запретить наследование класса. Когда класс объявляется как `final`, он не может быть расширен другими классами, что может быть полезно в нескольких ситуациях:

### 1. **Защита кода от изменения поведения**:

Если разработчик хочет, чтобы логика класса оставалась неизменной, он может сделать его `final`. Это гарантирует, что никто не сможет изменить поведение класса, унаследовав его и переопределив методы. Например, если класс отвечает за критическую функциональность (например, безопасность или работу с финансовыми данными), лучше запретить его наследование.

### 2. **Оптимизация производительности**:

В некоторых случаях использование `final` может позволить компилятору или виртуальной машине Java (JVM) выполнять оптимизации. Например, методы финального класса не могут быть переопределены, поэтому вызовы таких методов могут быть оптимизированы (например, не нужно выполнять динамическую диспетчеризацию метода).

### 3. **Безопасность**:

Это особенно полезно, когда класс предназначен для использования в библиотеках, где разработчик хочет контролировать, как пользователи библиотеки могут взаимодействовать с классами. Объявление класса как `final` гарантирует, что его поведение остается предсказуемым и неизменным, что важно при разработке API.

### Пример:

```java
public final class Calculator {    
	public int add(int a, int b) {         
		return a + b;     
	} 
}
```

В этом случае класс `Calculator` нельзя будет расширить (унаследовать), и его методы будут работать только так, как это было задумано.

### Когда **не** следует использовать `final`:

- Если предполагается, что класс может быть расширен в будущем или его поведение должно быть переопределено для различных нужд, использование `final` ограничит гибкость кода.

Таким образом, `final` помогает обеспечить инкапсуляцию, безопасность и стабильность логики класса.